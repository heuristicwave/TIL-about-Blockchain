### 참조 타입 배열

```
contract CallBy {
    struct Student {
        string studentName;
        string gender;
        uint age;
    }

    Student[] students;

    function addStudent(string _name, string _gender, uint _age) public {
        students.push(Student(_name, _gender, _age));
        /* 상태변수 students 배열의 첫번째 인덱스 값을 그대로 대입
            storage로 선언되었기 때문에 상태변수를 가르키는 포인터 역할 */    
        Student storage updateStudent = students[0];

        updateStudent.age = 55; //결과 적으로 students 배열의 첫번째 인덱스의 age를 55로 변경한다.

        //  memory로 선언 되었기 때문에 복사한다.
        Student memory updateStudent2 = students[0];

        updateStudent2.age = 20; //결과 적으로 updateStudent2의 age 필드를 20으로 변경한다.

        // memory배열의 값을 상태변수에 직접적으로 대입하면, students값 영구히 변경 
        student[0] = updateStudent2;
    }
}
```



### 참조 타입 - 매핑

```
contract MappingStudy {
    struct Student {
        string studentName;
        string gender;
        uint age;
    }

    mapping(uint256 => student) studentInfo;

    function setStudentInfo(uint studentId, string _name, string _gender, uint _age) public {
        // 키 값으로 매개변수를 받은 _studentId 입력, studentId만의 특정 Student 구조체 정보를 불러온다
        students storage student = studentInfo[_studentId];

        // 각각 필드에 매개변수로 받은 자료형들 대입
        student.studentName = _name;
        student.gender = _gender;
        student.age = _age;
    }

    function getStudentInfo(uint256 _studentId) view public returns (string, string, uint) {
        // 매개변수로 받은 _studentId를 키값으로 활용하여 매핑된 value를 불러온다 
    }
}
```

